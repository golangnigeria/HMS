{{template "base" .}}

{{define "title"}}Laboratory Registration - KiLab{{end}}

{{define "css"}}
<link
  href="https://cdn.jsdelivr.net/npm/remixicon@4.5.0/fonts/remixicon.css"
  rel="stylesheet"
/>
{{end}}

{{define "content"}}
<main
  x-data="{ step: 1, total: 4 }"
  class="flex-grow flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8"
>
  <div class="w-full max-w-2xl space-y-8">
    <div
      class="bg-white dark:bg-background-dark p-8 shadow-xl rounded-xl border border-gray-200 dark:border-gray-700"
    >
      <!-- Progress Bar -->
      <div class="space-y-4">
        <p class="text-sm font-medium text-primary">
          Step <span x-text="step"></span> of <span x-text="total"></span>
        </p>
        <div class="w-full bg-gray-200 dark:bg-gray-700 rounded-full h-2">
          <div
            class="bg-primary h-2 rounded-full transition-all duration-300"
            :style="`width: ${(step/total)*100}%`"
          ></div>
        </div>
      </div>

      <!-- Form -->
      <form
        action="/lab/register"
        method="POST"
        enctype="multipart/form-data"
        class="mt-6 space-y-6"
      >
        <!-- STEP 1 -->
        <div x-show="step === 1" x-transition>
          <h2 class="text-2xl font-bold text-gray-900 dark:text-white mb-4">
            Basic Information
          </h2>
          <div class="space-y-4">
            <div>
              <label class="block text-sm font-medium mb-1"
                >Laboratory Name</label
              >
              <input
                type="text"
                name="lab_name"
                required
                class="w-full px-3 py-3 rounded-lg border bg-background-light dark:bg-gray-700"
              />
            </div>

            <div>
              <label class="block text-sm font-medium mb-1">Email</label>
              <input
                type="email"
                name="email"
                required
                class="w-full px-3 py-3 rounded-lg border bg-background-light dark:bg-gray-700"
              />
            </div>

            <div>
              <label class="block text-sm font-medium mb-1">Phone Number</label>
              <input
                type="tel"
                name="phone"
                required
                class="w-full px-3 py-3 rounded-lg border bg-background-light dark:bg-gray-700"
              />
            </div>
          </div>
        </div>

        <!-- STEP 2 -->
        <div x-show="step === 2" x-transition>
          <h2 class="text-2xl font-bold text-gray-900 dark:text-white mb-4">
            Location & Services
          </h2>
          <div class="space-y-4">
            <div>
              <label class="block text-sm font-medium mb-1">City</label>
              <input
                type="text"
                name="city"
                required
                class="w-full px-3 py-3 rounded-lg border bg-background-light dark:bg-gray-700"
              />
            </div>
            <div>
              <label class="block text-sm font-medium mb-1">State</label>
              <input
                type="text"
                name="state"
                required
                class="w-full px-3 py-3 rounded-lg border bg-background-light dark:bg-gray-700"
              />
            </div>
            <div>
              <label class="block text-sm font-medium mb-1"
                >Services Offered</label
              >
              <textarea
                name="services"
                rows="4"
                placeholder="E.g. Hematology, Biochemistry, Microbiology..."
                class="w-full px-3 py-3 rounded-lg border bg-background-light dark:bg-gray-700 resize-none"
              ></textarea>
            </div>
          </div>
        </div>

        <!-- STEP 3 -->
        <div x-show="step === 3" x-transition>
          <h2 class="text-2xl font-bold text-gray-900 dark:text-white mb-4">
            Accreditation & Contact
          </h2>
          <div class="space-y-4">
            <div>
              <label class="block text-sm font-medium mb-1"
                >License Number</label
              >
              <input
                type="text"
                name="license"
                required
                class="w-full px-3 py-3 rounded-lg border bg-background-light dark:bg-gray-700"
              />
            </div>
            <div>
              <label class="block text-sm font-medium mb-1"
                >Upload Accreditation Certificate</label
              >
              <input
                type="file"
                name="certificate"
                accept=".pdf,.jpg,.png"
                class="block w-full text-sm text-gray-500 dark:text-gray-400 file:mr-4 file:py-2 file:px-4 file:rounded-lg file:border-0 file:text-sm file:font-semibold file:bg-primary/10 file:text-primary hover:file:bg-primary/20 cursor-pointer"
              />
            </div>
            <div>
              <label class="block text-sm font-medium mb-1"
                >Primary Contact Name</label
              >
              <input
                type="text"
                name="contact_name"
                required
                class="w-full px-3 py-3 rounded-lg border bg-background-light dark:bg-gray-700"
              />
            </div>
            <div>
              <label class="block text-sm font-medium mb-1"
                >Contact Email</label
              >
              <input
                type="email"
                name="contact_email"
                required
                class="w-full px-3 py-3 rounded-lg border bg-background-light dark:bg-gray-700"
              />
            </div>
          </div>
        </div>

        <!-- STEP 4 -->
        <div x-show="step === 4" x-transition>
          <h2 class="text-2xl font-bold text-gray-900 dark:text-white mb-4">
            Account Setup
          </h2>
          <div class="space-y-4">
            <div>
              <label class="block text-sm font-medium mb-1">Password</label>
              <input
                type="password"
                name="password"
                required
                class="w-full px-3 py-3 rounded-lg border bg-background-light dark:bg-gray-700"
              />
            </div>
            <div>
              <label class="block text-sm font-medium mb-1"
                >Confirm Password</label
              >
              <input
                type="password"
                name="confirm_password"
                required
                class="w-full px-3 py-3 rounded-lg border bg-background-light dark:bg-gray-700"
              />
            </div>

            <div class="flex items-start gap-2">
              <input type="checkbox" name="terms" required class="mt-1" />
              <p class="text-sm text-gray-700 dark:text-gray-300">
                I agree to the
                <a href="#" class="text-primary font-semibold hover:underline"
                  >Terms of Service</a
                >
                and
                <a href="#" class="text-primary font-semibold hover:underline"
                  >Privacy Policy</a
                >.
              </p>
            </div>
          </div>
        </div>

        <!-- Navigation -->
        <div class="flex items-center justify-between pt-6">
          <button
            type="button"
            @click="if (step > 1) step--"
            class="px-4 py-2 rounded-lg border border-gray-300 text-sm text-gray-700 dark:text-gray-300 hover:bg-gray-50"
            :disabled="step === 1"
          >
            Back
          </button>

          <div>
            <button
              type="button"
              x-show="step < total"
              @click="if (step < total) step++"
              class="px-4 py-2 rounded-lg bg-primary text-white text-sm font-semibold hover:bg-primary/90"
            >
              Next
            </button>
            <button
              type="submit"
              x-show="step === total"
              class="px-4 py-2 rounded-lg bg-green-600 text-white text-sm font-semibold hover:bg-green-700"
            >
              Submit
            </button>
          </div>
        </div>
      </form>
    </div>
  </div>
</main>
{{end}}
