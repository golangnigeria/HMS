{{define "navbar"}}
<header x-data="{
    open: false,
    theme: localStorage.theme || (window.matchMedia('(prefers-color-scheme: dark)').matches ? 'dark' : 'light'),
    toggleTheme() {
      this.theme = this.theme === 'light' ? 'dark' : 'light';
      localStorage.theme = this.theme;
      document.documentElement.classList.toggle('dark', this.theme === 'dark');
    }
  }"
  x-init="document.documentElement.classList.toggle('dark', theme === 'dark')"
  class="w-full fixed top-0 left-0 z-50 bg-white/70 dark:bg-gray-900/70 backdrop-blur-md border-b border-gray-200 dark:border-gray-800 transition-all">

  <div class="max-w-7xl mx-auto flex items-center justify-between px-4 py-3 md:py-4">

    <!-- Brand -->
    <a href="/" class="flex items-center space-x-2">
      <img src="/static/logo.png" alt="Logo" class="h-8 w-8 rounded-full object-cover">
      <span class="text-xl font-semibold text-gray-900 dark:text-white">Dr. KiLab</span>
    </a>

    <!-- Desktop Nav -->
    <nav class="hidden md:flex items-center space-x-8 text-sm font-medium text-gray-700 dark:text-gray-300">
      <a href="/" class="hover:text-blue-600 dark:hover:text-blue-400 transition">Home</a>
      <a href="/about" class="hover:text-blue-600 dark:hover:text-blue-400 transition">About</a>
      <a href="/blog/bloglist" class="hover:text-blue-600 dark:hover:text-blue-400 transition">Blog</a>
      <a href="/courses" class="hover:text-blue-600 dark:hover:text-blue-400 transition">Courses</a>
      <a href="/book" class="hover:text-blue-600 dark:hover:text-blue-400 transition">Book a Session</a>
      <a href="/admin/blog/create" class="hover:text-blue-600 dark:hover:text-blue-400 transition">Create Blog</a>
    </nav>

    <!-- Right Side -->
    <div class="hidden md:flex items-center space-x-4">
      <a href="/login" class="px-4 py-2 text-sm font-medium border rounded-lg border-gray-300 dark:border-gray-700 hover:bg-gray-100 dark:hover:bg-gray-800 transition">Login</a>
      <a href="/register" class="px-4 py-2 text-sm font-medium text-white bg-blue-600 rounded-lg hover:bg-blue-700 transition">Register</a>
      <button @click="toggleTheme"
              class="ml-2 px-3 py-2 rounded-md text-sm text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-800 transition">
        <span x-text="theme === 'light' ? 'ðŸŒ™ Dark' : 'â˜€ï¸ Light'"></span>
      </button>
    </div>

    <!-- Mobile Menu Button -->
    <button @click="open = !open" class="md:hidden text-gray-700 dark:text-gray-300 focus:outline-none">
      <svg x-show="!open" xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"/>
      </svg>
      <svg x-show="open" xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"/>
      </svg>
    </button>
  </div>

  <!-- Mobile Dropdown -->
  <div x-show="open" x-transition @click.away="open = false"
       class="md:hidden bg-white dark:bg-gray-900 border-t border-gray-200 dark:border-gray-800 px-4 py-4 space-y-3">
    <a href="/" class="block text-gray-700 dark:text-gray-300 hover:text-blue-600 dark:hover:text-blue-400">Home</a>
    <a href="/about" class="block text-gray-700 dark:text-gray-300 hover:text-blue-600 dark:hover:text-blue-400">About</a>
    <a href="/blog/bloglist" class="block text-gray-700 dark:text-gray-300 hover:text-blue-600 dark:hover:text-blue-400">Blog</a>
    <a href="/courses" class="block text-gray-700 dark:text-gray-300 hover:text-blue-600 dark:hover:text-blue-400">Courses</a>
    <a href="/book" class="block text-gray-700 dark:text-gray-300 hover:text-blue-600 dark:hover:text-blue-400">Book a Session</a>
    <a href="/admin/blog/create" class="block text-gray-700 dark:text-gray-300 hover:text-blue-600 dark:hover:text-blue-400">Create Blog</a>

    <div class="flex items-center justify-between pt-3 border-t border-gray-200 dark:border-gray-800">
      <button @click="toggleTheme"
              class="text-sm text-gray-600 dark:text-gray-300">
        <span x-text="theme === 'light' ? 'ðŸŒ™ Dark' : 'â˜€ï¸ Light'"></span>
      </button>
      <div class="flex space-x-2">
        <a href="/login" class="px-3 py-1 border rounded-md text-sm border-gray-300 dark:border-gray-700 hover:bg-gray-100 dark:hover:bg-gray-800">Login</a>
        <a href="/register" class="px-3 py-1 text-sm text-white bg-blue-600 rounded-md hover:bg-blue-700">Register</a>
      </div>
    </div>
  </div>
</header>
{{end}}
